#:kivy 2.0

ScreenManager:
    MainScreen:
    DetailScreen:
    EditScreen:
    
<MainScreen>:
    name: 'main'
    BoxLayout:
        orientation: "vertical" 
             
        
        ScrollView:
            MDList:
                id: container
                refresh_callback: app.refresh_callback
                root_layout: root
                                
                                                       

        MDBottomAppBar:
            MDTopAppBar:
                icon: "playlist-plus"
                title: "My Contact List"
                type: 'bottom'
                md_bg_color: app.theme_cls.primary_color
                #icon_color: 0, 1, 0, 1
                mode: 'end'
                on_action_button: 
                    root.manager.current = 'detail'
                    root.manager.transition.direction = "left"

        
<DetailScreen>:
    name: 'detail'
    MDFloatLayout:
       
            
        MDTextField:
            id: name_txt
            hint_text: "Enter name here"
            mode: "fill"
            pos_hint: {"x": 0.01, "y": 0.9}
            
        MDTextField:
            id: phonenum_txt
            hint_text: "Enter phone number here"
            helper_text: "In format of XXX-XXX-XXXX"
            helper_text_mode: "on_focus"
            mode: "fill"
            pos_hint: {"x": 0.01, "y": 0.8}
                 
        MDTextField:
            id: email_txt
            hint_text: "Enter email here"
            helper_text: "Must have a @"
            helper_text_mode: "on_focus"
            mode: "fill"
            validator: "email"
            pos_hint: {"x": 0.01, "y": 0.7}            

        MDBottomAppBar:    
            MDTopAppBar:
                icon: "plus-thick"
                title: "Add a contact"
                md_bg_color: app.theme_cls.primary_color
                type: 'bottom'               
                mode: 'free-center'
                on_action_button:
                    root.manager.current = 'main'
                    root.manager.transition.direction = "right"
                    app.show_data()

            MDTopAppBar:
                icon: "cancel"
                title: "Add a contact"
                md_bg_color: app.theme_cls.primary_color
                type: 'bottom'
                mode: 'end'
                on_action_button:
                    root.manager.current = 'main'
                    root.manager.transition.direction = "right"
        
               
<EditScreen>:
    name: 'edit'
       
    MDFloatLayout:      
            
        MDTextField:
            id: edit_name
            hint_text: "Edit name here"
            pos_hint: {"x": 0.01, "y": 0.9}
            
        MDTextField:
            id: edit_phonenum
            hint_text: "Edit phone number here"
            helper_text: "In format of XXX-XXX-XXXX"
            helper_text_mode: "on_focus"
            pos_hint: {"x": 0.01, "y": 0.8}
                 
        MDTextField:
            id: edit_email
            hint_text: "Edit email here"
            helper_text: "Must have a @"
            helper_text_mode: "on_focus"
            validator: "email"
            pos_hint: {"x": 0.01, "y": 0.7}            
        
        MDFlatButton:
            pos_hint: {'center_x': .5, 'center_y': .5}
            on_release: app.show_alert_dialog()
            
        MDBottomAppBar: 
            MDTopAppBar:
                icon: "content-save"
                md_bg_color: app.theme_cls.primary_color
                type: 'bottom'               
                mode: 'free-center'
                on_action_button:
                    root.manager.current = 'main'
                    root.manager.transition.direction = "down"
                    app.save_data()

            MDTopAppBar:
                icon: "delete"
                title: "Edit/Delete a contact"
                md_bg_color: app.theme_cls.primary_color
                type: 'bottom'
                #elevation: '50'
                mode: 'end'
                on_action_button:
                    app.show_alert_dialog()  
                    
   
              


            
                            
